(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,n){e.exports={links:"Navbar_links__nwlEs",badge:"Navbar_badge__RH_zN"}},110:function(e,t,n){e.exports={image:"ProductItem_image__1O686"}},139:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(30),c=n.n(r),s=(n(139),n(15)),o=n(14),j=n(203),l=n(226),d=n(204),u=n(206),m=n(205),b=n(106),x=n.n(b),h=n(217),O=n(218),p=n(207),f=n(44),g=n(101),v=n.n(g),y=n(2),C=Object(a.createContext)({Cart:[],totalCart:0,addToCart:function(e){},removeFromCart:function(e){},productInCart:function(e){}});function w(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),i=n[0],r=n[1];var c={cart:i,totalCart:i.length,addToCart:function(e){r((function(t){return t.concat(e)}))},removeFromCart:function(e){r((function(t){return t.filter((function(t){return t.id!==e}))}))},productInCart:function(e){return i.some((function(t){return t.id===e}))}};return Object(y.jsx)(C.Provider,{value:c,children:e.children})}var k=C,W=Object(j.a)((function(e){return{menuButton:{marginRight:e.spacing(2)}}}));var N=function(){var e=i.a.useState(0),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useContext)(k);return Object(y.jsx)(l.a,{position:"static",children:Object(y.jsxs)(d.a,{children:[Object(y.jsx)(m.a,{edge:"start",color:"inherit","aria-label":"menu",className:W.menuButton,children:Object(y.jsx)(x.a,{})}),Object(y.jsx)(u.a,{variant:"h6",children:"Sklep"}),Object(y.jsx)(h.a,{flexGrow:1}),Object(y.jsxs)(O.a,{value:n,onChange:function(e,t){return r(t)},textColor:"inherit",children:[Object(y.jsx)(p.a,{component:f.b,to:"/",label:"Produkty"}),Object(y.jsx)(p.a,{component:f.b,to:"/new-product",label:"Dodaj produkt"}),Object(y.jsx)(p.a,{component:f.b,to:"/checkout",label:"Koszyk"}),Object(y.jsx)("span",{className:v.a.badge,children:c.totalCart}),Object(y.jsx)(p.a,{component:f.b,to:"/login",label:"Zaloguj si\u0119"}),Object(y.jsx)(p.a,{component:f.b,to:"/register",label:"Zarejestruj si\u0119"})]})]})})},z=Object(j.a)({content:{padding:"2rem"}});var D=function(e){var t=z();return Object(y.jsxs)("div",{children:[Object(y.jsx)(N,{}),Object(y.jsx)("main",{children:Object(y.jsx)("div",{className:t.content,children:e.children})})]})},q=n(227),I=n(228),S=n(216),_=n(223),F=n(230);var P=function(e){return Object(y.jsxs)(q.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(y.jsx)(I.a,{component:"h1",variant:"h5",children:"Dodaj produkt"}),Object(y.jsxs)(q.a,{component:"form",noValidate:!0,onSubmit:function(t){t.preventDefault();var n=new FormData(t.currentTarget);console.log({title:n.get("title"),description:n.get("description"),image:n.get("image")});var a={title:n.get("title"),description:n.get("description"),image:n.get("image"),price:n.get("price"),amount:n.get("amount")};e.onAddProduct(a)},sx:{mt:2},children:[Object(y.jsx)(S.a,{margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Nazwa",name:"title",autoFocus:!0}),Object(y.jsx)(S.a,{margin:"normal",required:!0,fullWidth:!0,name:"description",label:"Opis",id:"description"}),Object(y.jsx)(S.a,{margin:"normal",required:!0,fullWidth:!0,name:"image",type:"url",label:"Adres URL zdj\u0119cia",id:"image"}),Object(y.jsxs)(_.a,{container:!0,spacing:2,children:[Object(y.jsx)(_.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(S.a,{margin:"normal",required:!0,fullWidth:!0,name:"price",label:"Cena",type:"number",id:"price"})}),Object(y.jsx)(_.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(S.a,{margin:"normal",required:!0,fullWidth:!0,name:"amount",label:"Ilo\u015b\u0107",type:"number",id:"amount"})})]}),Object(y.jsx)(F.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,height:50},children:"Dodaj produkt"})]})]})};var Z=function(){var e=Object(s.f)();return Object(y.jsx)(P,{onAddProduct:function(t){fetch("/api/products",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}}).then((function(){e.replace("/")}))}})},T=n(109),E=n(110),A=n.n(E),B=n(234),H=n(236),J=n(235),R=n(240),V=n(241);var L=function(e){var t=Object(a.useContext)(k),n=t.productInCart(e.id);return Object(y.jsx)("section",{className:A.a.image,children:Object(y.jsxs)(B.a,{sx:{height:600},children:[Object(y.jsxs)(R.a,{children:[Object(y.jsx)(J.a,{component:"img",image:e.image,alt:e.title}),Object(y.jsxs)(H.a,{children:[Object(y.jsx)(I.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.id}),Object(y.jsxs)(I.a,{variant:"h6",component:"div",children:[e.price," z\u0142"]}),Object(y.jsx)(I.a,{variant:"body2",color:"text.secondary",children:e.description})]})]}),Object(y.jsx)(V.a,{children:Object(y.jsx)(F.a,{size:"small",color:"primary",onClick:function(){n?t.removeFromCart(e.id):t.addToCart({id:e.id,title:e.title,description:e.description,image:e.image,price:e.price,amount:e.amount})},children:n?"Usu\u0144 z koszyka":"Do koszyka"})})]})})};var U=function(e){return Object(y.jsx)(_.a,{container:!0,spacing:{xs:2,md:4},columns:{xs:2,sm:8,md:12},justify:"center",children:e.products.map((function(e,t){return Object(y.jsx)(_.a,{item:!0,xs:2,sm:4,md:3,children:Object(y.jsx)(L,{id:e.id,title:e.title,image:e.image,description:e.description,price:e.price},e.id)},t)}))})};var G=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)([]),c=Object(o.a)(r,2),s=c[0],j=c[1];return Object(a.useEffect)((function(){i(!0),fetch("/api/products").then((function(e){return e.json()})).then((function(e){var t=[];for(var n in e){var a=Object(T.a)({id:n},e[n]);t.push(a)}i(!1),j(t)})).catch((function(e){console.log("Error while fetching products: ",e)}))}),[]),n?Object(y.jsx)("section",{children:Object(y.jsx)("p",{children:"Loading..."})}):Object(y.jsx)("section",{children:Object(y.jsx)(U,{products:s})})},K=n(224),M=n(215),Q=n(232),X=n(231),Y=n(111),$=n(225),ee=Object(Y.a)();function te(){return Object(y.jsx)($.a,{theme:ee,children:Object(y.jsxs)(X.a,{component:"main",maxWidth:"xs",children:[Object(y.jsx)(M.a,{}),Object(y.jsxs)(q.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(y.jsx)(K.a,{sx:{m:1,bgcolor:"secondary.main"}}),Object(y.jsx)(I.a,{component:"h1",variant:"h5",children:"Zaloguj si\u0119"}),Object(y.jsxs)(q.a,{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);console.log({email:t.get("email"),password:t.get("password")})},noValidate:!0,sx:{mt:1},children:[Object(y.jsx)(S.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Adres Email",name:"email",autoComplete:"email",autoFocus:!0}),Object(y.jsx)(S.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Has\u0142o",type:"password",id:"password",autoComplete:"current-password"}),Object(y.jsx)(F.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Zaloguj si\u0119"}),Object(y.jsx)(_.a,{container:!0,children:Object(y.jsx)(_.a,{item:!0,children:Object(y.jsx)(Q.a,{href:"/register",variant:"body2",children:"Nie masz konta? Zarejestruj si\u0119"})})})]})]})]})})}var ne=function(){return Object(y.jsx)(te,{})},ae=n(229),ie=n(220),re=n(233);var ce=function(){var e=Object(a.useContext)(k);return Object(y.jsxs)("section",{children:[Object(y.jsx)(I.a,{variant:"h6",gutterBottom:!0,children:"Produkty w koszyku"}),Object(y.jsx)(ae.a,{children:e.cart.map((function(e){return Object(y.jsxs)(ie.a,{sx:{py:1,px:0},children:[Object(y.jsx)("img",{src:e.image,height:"150"}),Object(y.jsx)(re.a,{primary:e.title,secondary:e.description}),Object(y.jsxs)(I.a,{variant:"body2",children:[e.price,"z\u0142"]})]},e.title)}))})]})};var se=function(){return Object(y.jsx)(ce,{})},oe=Object(Y.a)();function je(){return Object(y.jsx)($.a,{theme:oe,children:Object(y.jsxs)(X.a,{component:"main",maxWidth:"xs",children:[Object(y.jsx)(M.a,{}),Object(y.jsxs)(q.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(y.jsx)(K.a,{sx:{m:1,bgcolor:"secondary.main"}}),Object(y.jsx)(I.a,{component:"h1",variant:"h5",children:"Zarejestruj"}),Object(y.jsxs)(q.a,{component:"form",noValidate:!0,onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);console.log({email:t.get("email"),password:t.get("password")})},sx:{mt:3},children:[Object(y.jsxs)(_.a,{container:!0,spacing:2,children:[Object(y.jsx)(_.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(S.a,{autoComplete:"fname",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"Imi\u0119",autoFocus:!0})}),Object(y.jsx)(_.a,{item:!0,xs:12,sm:6,children:Object(y.jsx)(S.a,{required:!0,fullWidth:!0,id:"lastName",label:"Nazwisko",name:"lastName",autoComplete:"lname"})}),Object(y.jsx)(_.a,{item:!0,xs:12,children:Object(y.jsx)(S.a,{required:!0,fullWidth:!0,id:"email",label:"Adres Email",name:"email",autoComplete:"email"})}),Object(y.jsx)(_.a,{item:!0,xs:12,children:Object(y.jsx)(S.a,{required:!0,fullWidth:!0,name:"password",label:"Has\u0142o",type:"password",id:"password",autoComplete:"new-password"})})]}),Object(y.jsx)(F.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Zarejestruj si\u0119"}),Object(y.jsx)(_.a,{container:!0,justifyContent:"flex-end",children:Object(y.jsx)(_.a,{item:!0,children:Object(y.jsx)(Q.a,{href:"/login",variant:"body2",children:"Posiadasz ju\u017c konto? Zaloguj si\u0119"})})})]})]})]})})}var le=function(){return Object(y.jsx)(je,{})};var de=function(){return Object(y.jsx)(D,{children:Object(y.jsxs)(s.c,{children:[Object(y.jsx)(s.a,{path:"/",exact:!0,children:Object(y.jsx)(G,{})}),Object(y.jsx)(s.a,{path:"/new-product",children:Object(y.jsx)(Z,{})}),Object(y.jsx)(s.a,{path:"/checkout",children:Object(y.jsx)(se,{})}),Object(y.jsx)(s.a,{path:"/login",children:Object(y.jsx)(ne,{})}),Object(y.jsx)(s.a,{path:"/register",children:Object(y.jsx)(le,{})})]})})};c.a.render(Object(y.jsx)(w,{children:Object(y.jsx)(f.a,{children:Object(y.jsx)(de,{})})}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.7a7931a5.chunk.js.map